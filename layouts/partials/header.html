<header class="site-header">
  <div class="container header-inner">
    <a href="{{ "/" | relLangURL }}" class="site-identity">
      <span class="site-logo" aria-hidden="true">{{ readFile "static/plainsight-mark.svg" | safeHTML }}</span>
      <span class="site-name">{{ .Site.Title }}</span>
    </a>
    <details class="nav-toggle" aria-label="Primary">
      <summary class="nav-toggle__summary">Menu</summary>
      <nav class="site-nav nav--mobile" aria-label="Primary">
        {{- $currentPage := . }}
        {{- $currentPath := $currentPage.RelPermalink }}
        {{- range .Site.Menus.main }}
          {{- $menuUrl := (.URL | relURL) }}
          {{- $isActive := or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) (and (ne $menuUrl "/") (strings.HasPrefix $currentPath $menuUrl)) (eq $currentPath $menuUrl) }}
          <a href="{{ $menuUrl }}" class="nav-link{{ if $isActive }} is-active{{ end }}"{{ if $isActive }} aria-current="page"{{ end }}>{{ .Name }}</a>
        {{- end }}
      </nav>
    </details>
    <nav class="site-nav nav--desktop" aria-label="Primary">
      {{- $currentPage := . }}
      {{- $currentPath := $currentPage.RelPermalink }}
      {{- range .Site.Menus.main }}
        {{- $menuUrl := (.URL | relURL) }}
        {{- $isActive := or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) (and (ne $menuUrl "/") (strings.HasPrefix $currentPath $menuUrl)) (eq $currentPath $menuUrl) }}
        <a href="{{ $menuUrl }}" class="nav-link{{ if $isActive }} is-active{{ end }}"{{ if $isActive }} aria-current="page"{{ end }}>{{ .Name }}</a>
      {{- end }}
    </nav>
  </div>
</header>
